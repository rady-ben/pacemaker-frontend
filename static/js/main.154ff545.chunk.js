(this["webpackJsonppacemaker-frontend"]=this["webpackJsonppacemaker-frontend"]||[]).push([[0],{103:function(e,t,n){},105:function(e,t,n){},114:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(11),i=n.n(o),r=(n(103),n(14)),s=n(44),l=n(8),d=n(2),u=a.a.createContext();u.displayName="Store";var j=function(){return a.a.useContext(u)},b=function(e){var t=e.children,n=e.initialState,c=e.reducer,o=a.a.useReducer(c,n),i=Object(r.a)(o,2),s=i[0],l=i[1];return Object(d.jsx)(u.Provider,{value:[s,l],children:t})},O=n(35),h=n(26),p="SET_MODULES",m={modules:[]},x=(n(105),n(34)),g=n(140),v=n(142),f=n(143),y=n(36),k=n(116),C=n(139),w=n(82),S=n.n(w),N=Object(C.a)((function(e){return{menuButton:Object(x.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),title:{flexGrow:1,textAlign:"center"}}})),I=function(e){var t=e.drawerOpen,n=e.toggleDrawer,c=N();return Object(d.jsx)(g.a,{children:Object(d.jsxs)(v.a,{children:[Object(d.jsx)(f.a,{edge:"start",className:c.menuButton,color:"inherit","aria-label":"menu",onClick:function(){n(!t)},children:Object(d.jsx)(S.a,{})}),Object(d.jsx)(y.a,{variant:"h6",className:c.title,children:"S\xe9ries 200"}),Object(d.jsx)(k.a,{color:"inherit",children:"D\xe9connecter"})]})})},T=n(163),B=n(152),D=n(151),P=n(161),E=n(144),R=n(145),F=n(146),J=n(150),L=n(147),q=n(148),M=n(149),W=n(84),z=n.n(W),U=Object(C.a)((function(e){return{nested:{paddingLeft:e.spacing(4)},listItemText:{color:function(t){return t.selected?e.palette.primary.dark:"#000"},"& span, & svg":{fontWeight:function(t){return t.selected?e.typography.fontWeightBold:null}}}}})),V=function(e){var t=e.name,n=(e.index,e.courseId),c=e.moduleId,a=Object(l.h)(),o=a.moduleId,i=a.courseId,r=JSON.stringify(c)===o&&JSON.stringify(n)===i,u=U({selected:r});return Object(d.jsx)(s.b,{to:"/".concat(c,"/").concat(n),style:{textDecoration:"none"},children:Object(d.jsxs)(E.a,{button:!0,className:u.nested,children:[Object(d.jsx)(R.a,{children:Object(d.jsx)(z.a,{color:r?"primary":"default"})}),Object(d.jsx)(F.a,{primary:t,className:u.listItemText})]})})},$=function(e){var t,n=e.item,a=Object(c.useState)(!1),o=Object(r.a)(a,2),i=o[0],s=o[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(E.a,{button:!0,onClick:function(){s(!i)},children:[Object(d.jsx)(R.a,{children:Object(d.jsx)(L.a,{})}),Object(d.jsx)(F.a,{primary:null===n||void 0===n?void 0:n.name}),i?Object(d.jsx)(q.a,{}):Object(d.jsx)(M.a,{})]},null===n||void 0===n?void 0:n.id),Object(d.jsx)(J.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(d.jsx)(D.a,{component:"div",disablePadding:!0,children:null===n||void 0===n||null===(t=n.courses)||void 0===t?void 0:t.map((function(e,t){return Object(d.jsx)(V,{name:e.name,courseId:e.id,index:t,moduleId:null===n||void 0===n?void 0:n.id})}))})})]})},_=Object(C.a)((function(e){return{drawerPaper:{width:240},toolbar:e.mixins.toolbar}})),A=function(e){var t=e.listItems,n=e.drawerOpen,c=e.toggleDrawer,a=_();return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(P.a,{mdDown:!0,children:Object(d.jsxs)(T.a,{variant:"permanent",classes:{paper:a.drawerPaper},children:[Object(d.jsx)("div",{className:a.toolbar}),Object(d.jsx)(B.a,{}),Object(d.jsx)(D.a,{children:t.map((function(e){return Object(d.jsx)($,{item:e})}))})]})}),Object(d.jsx)(P.a,{mdUp:!0,children:Object(d.jsxs)(T.a,{variant:"temporary",classes:{paper:a.drawerPaper},open:n,onClose:function(){c(!n)},children:[Object(d.jsx)("div",{className:a.toolbar}),Object(d.jsx)(B.a,{}),Object(d.jsx)(D.a,{children:t.map((function(e){return Object(d.jsx)($,{item:e})}))})]})})]})},G=n(89),H=n(159),Q=n(158),K=n(85),X=n.n(K),Y=n(160),Z=n(87),ee=n.n(Z),te=n(162),ne=n(153),ce=n(6),ae=n(62),oe=n(63),ie=Object(C.a)((function(e){return{container:{backgroundColor:function(t){return"success"===t.status?e.palette.success.light:"error"===t.status?e.palette.error.light:null},width:"100%"},label:{color:function(t){return"success"===t.status?e.palette.success.main:"error"===t.status?e.palette.error.main:null}},iconError:{marginRight:e.spacing(1),color:ae.a[600]},iconSuccess:{marginRight:e.spacing(1),color:oe.a[600]}}})),re=Object(ce.a)({root:{color:oe.a[400],"&$checked":{color:oe.a[600]}},checked:{}})((function(e){return Object(d.jsx)(te.a,Object(h.a)({color:"default"},e))})),se=Object(ce.a)({root:{color:ae.a[400],"&$checked":{color:ae.a[600]}},checked:{}})((function(e){return Object(d.jsx)(te.a,Object(h.a)({color:"default"},e))})),le=function(e){var t=e.label,n=e.status,c=e.index,a=e.checked,o=e.handleCheckProposition,i=ie({status:n}),r=function(){o({checked:!a,index:c})},s="success"===n?Object(d.jsx)(re,{checked:a,onChange:r}):"error"===n?Object(d.jsx)(se,{checked:a,className:i.iconError}):Object(d.jsx)(te.a,{checked:a,onChange:r,color:"primary"});return Object(d.jsx)(ne.a,{control:s,label:Object(d.jsx)(y.a,{className:i.label,children:t})})},de=n(154),ue=n(155),je=n(156),be=n(157),Oe=n(86),he=n.n(Oe),pe=Object(ce.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},titleText:{maxWidth:"90%"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,c=e.onClose;return Object(d.jsxs)(de.a,{disableTypography:!0,className:n.root,children:[Object(d.jsx)(y.a,{variant:"h6",className:n.titleText,children:t}),Object(d.jsx)(f.a,{"aria-label":"close",className:n.closeButton,onClick:c,children:Object(d.jsx)(he.a,{})})]})})),me=function(e){var t=e.showSynthesis,n=e.toggleModal,c=e.modalTitle,a=e.modalContent;return Object(d.jsxs)(ue.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(d.jsx)(pe,{id:"simple-dialog-title",onClose:n,children:c}),Object(d.jsx)(je.a,{children:Object(d.jsx)(be.a,{id:"alert-dialog-description",children:a})})]})},xe=Object(C.a)((function(e){var t;return{container:(t={},Object(x.a)(t,e.breakpoints.up("md"),{marginTop:e.spacing(4),marginBottom:e.spacing(4),marginLeft:e.spacing(4)+240,marginRight:e.spacing(4)}),Object(x.a)(t,"padding",e.spacing(2)),t),divider:{marginBottom:e.spacing(2),marginTop:e.spacing(2)},toolbar:e.mixins.toolbar,note:{width:"100%",marginTop:e.spacing(4)},synthesisButton:{height:40,paddingLeft:12,paddingRight:12,backgroundColor:e.palette.grey[200],borderRadius:8},synthesisButtonText:{color:e.palette.grey[800],textTransform:"none"},modalContainer:{paddingTop:20,paddingBottom:20,maxHeight:"80vh",position:"absolute",width:"50%",backgroundColor:e.palette.background.paper,padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)",overflow:"auto"}}})),ge=function(){var e=xe(),t=Object(c.useState)(!1),n=Object(r.a)(t,2),a=n[0],o=n[1],i=Object(c.useState)(!1),s=Object(r.a)(i,2),u=s[0],b=s[1],p=Object(c.useState)(""),m=Object(r.a)(p,2),x=m[0],g=m[1],v=Object(c.useState)([]),f=Object(r.a)(v,2),C=f[0],w=f[1],S=Object(c.useState)({}),N=Object(r.a)(S,2),I=N[0],T=N[1],P=Object(c.useState)(0),R=Object(r.a)(P,2),F=R[0],J=R[1],L=Object(c.useState)([]),q=Object(r.a)(L,2),M=q[0],W=q[1],z=j(),U=(Object(r.a)(z,1)[0],Object(l.h)()),V=U.moduleId,$=U.courseId,_=function(e){var t=e.moduleId,n=e.courseId;return"http://serie200-api.herokuapp.com/v1.0/module/".concat(t,"/course/").concat(n,"/")}({moduleId:V,courseId:$}),A="",K="";Object(c.useEffect)((function(){fetch(_).then((function(e){return e.json()})).then((function(e){var t;w(Object(O.a)(e.questions)),A=JSON.stringify(Object(O.a)(e.questions));var n=Object(O.a)(null===e||void 0===e||null===(t=e.questions[F])||void 0===t?void 0:t.propositions).map((function(e){return Object(h.a)(Object(h.a)({},e),{},{label:null===e||void 0===e?void 0:e.content,status:(null===e||void 0===e?void 0:e.is_correct)?"success":"error",checked:!1})}));T(Object(h.a)({},e.questions[F])),W(n),g(null===e||void 0===e?void 0:e.synthesis),K=JSON.stringify(n)})).catch((function(e){console.log(e)}))}),[V,$,A,K,x,F,""]);var Z=function(){b(!u)},te=function(e){var t=e.index,n=e.checked,c=M;c[t].checked=n,W(Object(O.a)(c))};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:e.toolbar}),Object(d.jsxs)(G.a,{className:e.container,children:[Object(d.jsxs)(H.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",children:[Object(d.jsx)(y.a,{variant:"h4",children:"Question ".concat(F+1)}),Object(d.jsx)(k.a,{className:e.synthesisButton,startIcon:Object(d.jsx)(ee.a,{}),onClick:Z,children:Object(d.jsx)(y.a,{className:e.synthesisButtonText,children:"Synth\xe8se"})})]}),Object(d.jsx)(B.a,{className:e.divider}),Object(d.jsx)(y.a,{variant:"subtitle1",children:null===I||void 0===I?void 0:I.content}),Object(d.jsx)(B.a,{className:e.divider}),a?function(){var e=M.find((function(e){return"success"===e.status&&!e.checked||"error"===e.status&&e.checked}));return X.a.isEmpty(e)}()?Object(d.jsx)(Y.a,{severity:"success",children:"R\xe9ponse juste!"}):Object(d.jsx)(Y.a,{severity:"error",children:"R\xe9ponse fausse!"}):null,Object(d.jsx)(D.a,{children:M.map((function(e,t){return Object(d.jsx)(E.a,{children:Object(d.jsx)(le,{label:null===e||void 0===e?void 0:e.label,status:a?null===e||void 0===e?void 0:e.status:"default",checked:e.checked,index:t,handleCheckProposition:te,propositions:M})})}))}),a&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(B.a,{className:e.divider}),Object(d.jsx)(y.a,{variant:"h6",children:"Commentaire"}),Object(d.jsx)(y.a,{variant:"subtitle1",children:null===I||void 0===I?void 0:I.comment}),Object(d.jsx)("textarea",{className:e.note,rows:10,placeholder:"Vous pouvez ajoutez vos note ici .."})]}),Object(d.jsx)(B.a,{className:e.divider}),Object(d.jsxs)(H.a,{display:"flex",justifyContent:"space-between",m:1,p:1,bgcolor:"background.paper",children:[Object(d.jsx)(k.a,{variant:"contained",color:"primary",onClick:function(){o(!a)},children:"Valider"}),Object(d.jsxs)(Q.a,{color:"primary","aria-label":"outlined primary button group",children:[Object(d.jsx)(k.a,{onClick:function(){J(F-1)},disabled:0===F,children:"Precedant"}),Object(d.jsx)(k.a,{onClick:function(){J(F+1)},disabled:F===(null===C||void 0===C?void 0:C.length)-1,children:"Suivant"})]})]})]}),Object(d.jsx)(me,{showSynthesis:u,toggleModal:Z,modalTitle:"synth\xe8se du cours",modalContent:x})]})};var ve=function(){var e,t,n,a,o,i,s=Object(c.useState)(!1),u=Object(r.a)(s,2),b=u[0],O=u[1],h=j(),p=Object(r.a)(h,1)[0];return"/"===Object(l.g)().pathname&&(null===p||void 0===p||null===(e=p.modules[0])||void 0===e?void 0:e.id)&&(null===p||void 0===p||null===(t=p.modules[0])||void 0===t||null===(n=t.courses[0])||void 0===n?void 0:n.id)?Object(d.jsx)(l.a,{to:"".concat(null===p||void 0===p||null===(a=p.modules[0])||void 0===a?void 0:a.id,"/").concat(null===p||void 0===p||null===(o=p.modules[0])||void 0===o||null===(i=o.courses[0])||void 0===i?void 0:i.id)}):Object(d.jsxs)("div",{children:[Object(d.jsx)(I,{drawerOpen:b,toggleDrawer:O}),Object(d.jsx)(A,{listItems:p.modules,drawerOpen:b,toggleDrawer:O}),Object(d.jsx)(ge,{})]})};var fe=function(){var e=j(),t=Object(r.a)(e,2)[1];return Object(c.useEffect)((function(){fetch("http://serie200-api.herokuapp.com/v1.0/module/").then((function(e){return e.json()})).then((function(e){t({type:p,modules:e})})).catch((function(e){console.log(e)}))}),[]),Object(d.jsx)(s.a,{basename:"pacemaker",children:Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{exact:!0,path:"/",children:Object(d.jsx)(ve,{})}),Object(d.jsx)(l.b,{path:"/:moduleId/:courseId",children:Object(d.jsx)(ve,{})})]})})},ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,165)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(b,{initialState:m,reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;if(t.type===p)return console.log(t),Object(h.a)(Object(h.a)({},e),{},{modules:Object(O.a)(t.modules)})},children:Object(d.jsx)(fe,{})})}),document.getElementById("root")),ye()}},[[114,1,2]]]);
//# sourceMappingURL=main.154ff545.chunk.js.map